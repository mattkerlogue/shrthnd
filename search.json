[{"path":"https://mattkerlogue.github.io/shrthnd/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Matt Kerlogue Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/articles/shrthnd-num.html","id":"introducing-shrthnd_num","dir":"Articles","previous_headings":"","what":"Introducing shrthnd_num()","title":"Numeric vectors with tags","text":"shrthnd_num() data type builds vctrs::new_rcrd() split numeric non-numeric components keeping attached . practice shrthnd_num() can thought numeric() character() vector coupled together. Specifically num component representing numeric value tag component representing non-numeric shorthand, symbol marker. Let us create vector x seven values: first, second sixth values vector purely numeric (12, 34.567 78.9). third value shorthand symbol (\"[c]\") denoting value suppressed confidential. fourth value missing value (\"NA\"). fifth seventh values contain numeric information (56.78 90.123 respectively) also shorthand (\"[e]\") denote values estimated. Depending processing wish vector future might useful know value suppressed estimated. Using .numeric() vector result values containing non-numeric element converted missing value, causing us lose information third, fifth seventh values vector. scrub non-numeric elements vector, still lose information provided shorthand. shrthnd_num() function, however, allows us retain sets information, can easily coerce shrthnd_num() vector regular base R numeric() vector. can also easily access shorthand symbol tags shrthnd_tags() function. shrthnd_list() function provides summary tags contained shrthnd_num() vector, frequency positions vector. saw .numeric() converts shrthnd_num() numeric vector, .character() similarly convert shrthnd_num() character vector numeric vector. Instead print character vector combines numeric non-numeric components can use as_shrthnd().","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") x #> [1] \"12\"        \"34.567\"    \"[c]\"       \"NA\"        \"56.78[e]\"  \"78.9\"      #> [7] \"90.123[e]\" as.numeric(x) #> Warning: NAs introduced by coercion #> [1] 12.000 34.567     NA     NA     NA 78.900     NA as.numeric(gsub(\"[^0-9.]\", \"\", c(x))) #> [1] 12.000 34.567     NA     NA 56.780 78.900 90.123 sh_x <- shrthnd_num(x)  sh_x #> <shrthnd_num[7]> #> [1] 12.00    34.57    [c]      <NA>     56.78[e] 78.90    90.12[e]  as.numeric(sh_x) #> [1] 12.000 34.567     NA     NA 56.780 78.900 90.123  shrthnd_tags(sh_x) #> [1] NA    NA    \"[c]\" NA    \"[e]\" NA    \"[e]\" shrthnd_list(sh_x) #> <shrthnd_list[2]> #> [c] (1 location): 3  #> [e] (2 locations): 5, 7 as.character(sh_x) #> [1] \"12\"     \"34.567\" NA       NA       \"56.78\"  \"78.9\"   \"90.123\"  as_shrthnd(sh_x) #> [1] \"12.00\"    \"34.57\"    \"[c]\"      NA         \"56.78[e]\" \"78.90\"    \"90.12[e]\""},{"path":"https://mattkerlogue.github.io/shrthnd/articles/shrthnd-num.html","id":"making-a-shrthnd_num","dir":"Articles","previous_headings":"","what":"Making a shrthnd_num","title":"Numeric vectors with tags","text":"can make shrthnd_num() vector two ways: using shrthnd_num() convert character vector containing numeric non-numeric components, make_shrthnd_num() merge vector numbers vector character strings.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/articles/shrthnd-num.html","id":"conversion-to-a-shrthnd_num","dir":"Articles","previous_headings":"Making a shrthnd_num","what":"Conversion to a shrthnd_num","title":"Numeric vectors with tags","text":"convert character vector containing shorthand using shrthnd_num(). addition character vector can also supply additional arguments control behaviour conversion resulting display vector. shorthand argument allows pass character vector shorthand, symbols markers want validate , .e. can cause conversion throw error detects shorthand vector. na_values argument used determine values ignored identifying shorthand tags converted missing values extracting numeric component. digits, dec bigmark arguments passed formatC() formatting numeric component formatting printing vector. paren_nums argument determines handle numbers parenthesis, .e. whether consider number parenthesis negative number (commonly used accounting formats, default setting) whether just strip parenthesis number conversion. coercion numeric() vector handled utils::type.convert().","code":"shrthnd_num(   x,   shorthand = NULL,   na_values = \"NA\",   digits = 2L,   paren_nums = c(\"negative\", \"strip\"),   dec = \".\",   bigmark = \",\" ) #> <shrthnd_num[7]> #> [1] 12.00    34.57    [c]      <NA>     56.78[e] 78.90    90.12[e]"},{"path":"https://mattkerlogue.github.io/shrthnd/articles/shrthnd-num.html","id":"making-a-shrthnd_num-from-scratch","dir":"Articles","previous_headings":"Making a shrthnd_num","what":"Making a shrthnd_num from scratch","title":"Numeric vectors with tags","text":"can use make_shrthnd_num() create shrthnd_num() numeric() character() vector length.","code":"make_shrthnd_num(c(1:3, NA, 4:5, NA), c(\"\", \"\", \"\", \"[c]\", \"\", \"[e]\", NA)) #> <shrthnd_num[7]> #> [1] 1    2    3    [c]  4    5[e] <NA>"},{"path":"https://mattkerlogue.github.io/shrthnd/articles/shrthnd-num.html","id":"coercion-maths-and-statistics","dir":"Articles","previous_headings":"","what":"Coercion, maths and statistics","title":"Numeric vectors with tags","text":"Generally shrthnd_num() behave like numeric() vector. example, using .na() return TRUE numeric value missing FALSE numeric value missing. , use c() combine shrthnd_num() another vector first coerce vector numeric R can proceed . However, keeping base R practice around complex numeric objects Date(), difftime() POSIXct(), using .numeric() shrthnd_num() vector return FALSE. Use is_shrthnd_num() test vector shrthnd_num() vector. vctrs::vec_arith() vctrs::vec_math() generalised support arithmetic mathematical operations shrthnd_num() vector. Bespoke methods also added functions directly supported, median() quantile(), can easily work numeric components shrthnd_num() vector.","code":"is.na(sh_x) #> [1] FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE  c(sh_x, 1) #> [1] 12.000 34.567     NA     NA 56.780 78.900 90.123  1.000  c(sh_x, \"c\") #> [1] \"12\"     \"34.567\" NA       NA       \"56.78\"  \"78.9\"   \"90.123\" \"c\" is.numeric(sh_x) #> [1] FALSE  is_shrthnd_num(sh_x) #> [1] TRUE x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\"))  sh_x * 2 #> [1]  24.000  69.134      NA      NA 113.560 157.800 180.246  2 + sh_x #> [1] 14.000 36.567     NA     NA 58.780 80.900 92.123  sum(sh_x, na.rm = TRUE) #> [1] 272.37  range(sh_x, na.rm = TRUE) #> [1] 12.000 90.123  mean(sh_x, na.rm = TRUE) #> [1] 54.474"},{"path":"https://mattkerlogue.github.io/shrthnd/articles/shrthnd-num.html","id":"working-with-shrthnd-tags","dir":"Articles","previous_headings":"","what":"Working with shrthnd tags","title":"Numeric vectors with tags","text":"shrthnd_tags() function allows us access tag components shrthnd_num(). related function shrthnd_unique_tags() return unique list tags, simply convenience function place unique(shrthnd_tags(x)). base R functions value matching work numeric component shrthnd_num() vector. Separate tag locator functions used support matching tag components shrthnd_num() vector. tag_match() returns integer vector showing first location tag provided tag_in() return TRUE FALSE depending whether tag vector’s shorthand. locate specific tag used vector use where_tag(), equivalent computing tags == tag. identify value tag, irrespective value use any_tag(), equivalent !.na(tags). Using .na() shrthnd_num() assess numeric component missing. identify tags missing use is_na_tag(), equivalent .na(tags). identify numeric tag component missing use is_na_both(). Finally, can locate positions specific tag, tagged values untagged values using set locate_*() functions, convenience functions wrapping functions return logical vectors ().","code":"shrthnd_tags(sh_x) #> [1] NA    NA    \"[c]\" NA    \"[e]\" NA    \"[e]\"  shrthnd_unique_tags(sh_x) #> [1] \"[c]\" \"[e]\" tag_match(sh_x, \"[e]\") #> [1] 5  tag_in(sh_x, \"[e]\") #> [1] TRUE where_tag(sh_x, \"[e]\") #> [1]    NA    NA FALSE    NA  TRUE    NA  TRUE  any_tag(sh_x) #> [1] FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE is_na_tag(sh_x) #> [1]  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE  is_na_both(sh_x) #> [1] FALSE FALSE FALSE  TRUE FALSE FALSE FALSE locate_tag(sh_x, \"[e]\") #> [1] 5 7  locate_any_tag(sh_x) #> [1] 3 5 7  locate_no_tag(sh_x) #> [1] 1 2 4 6"},{"path":"https://mattkerlogue.github.io/shrthnd/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matt Kerlogue. Author, maintainer.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kerlogue M (2023). shrthnd: Work data uses shorthand symbols. https://github.com/mattkerlogue/shrthnd, https://mattkerlogue.github.io/shrthnd/.","code":"@Manual{,   title = {shrthnd: Work with data that uses shorthand and symbols},   author = {Matt Kerlogue},   year = {2023},   note = {https://github.com/mattkerlogue/shrthnd, https://mattkerlogue.github.io/shrthnd/}, }"},{"path":"https://mattkerlogue.github.io/shrthnd/index.html","id":"shrthnd-","dir":"","previous_headings":"","what":"Work with data that uses shorthand and symbols","title":"Work with data that uses shorthand and symbols","text":"Data often published shorthand symbols, regularly tags found container value. aim shrthnd process character vectors numerical data contain non-numeric shorthand symbols. common approach data processing scrub vector non-numeric characters can coerced numeric vector. However, tags often convey useful information may wish retain. shrthnd_num() data type builds vctrs::new_rcrd() separate numeric non-numeric components keeping attached . means can perform numeric operations numeric aspects vector retaining shorthand symbols associated base data. addition tags within spreadsheet table columns, annotation information might included within sheet/table header footer rows. shrthnd also provides methods processing annotations, add annotations R data frame.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Work with data that uses shorthand and symbols","text":"can install development version shrthnd like :","code":"# install.packages(\"remotes\") remotes::install_github(\"mattkerlogue/shrthnd\")"},{"path":"https://mattkerlogue.github.io/shrthnd/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Work with data that uses shorthand and symbols","text":"Use shrthnd_num() convert character vector shrthnd_num vector, either shrthnd_integer shrthnd_double based properties underlying numerical content. vctrs::vec_rcrd() data type splits numeric content non-numeric tags original character vector keeps together rather discards .","code":"library(shrthnd)  x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78 [e]\", \"78.9\", \"90.123[e]\",         \"321.09*\", \"987.564 \\u2021\", \".\", \"..\")  sh_x <- shrthnd_num(x)  sh_x #> <shrthnd_num[11]> #>  [1] 12.00    34.57    [c]      <NA>     56.78[e] 78.90    90.12[e] 321.09*  #>  [9] 987.56‡  .        ..  shrthnd_list(sh_x) #> <shrthnd_list[6]> #> [c] (1 location): 3  #> [e] (2 locations): 5, 7  #> * (1 location): 8  #> ‡ (1 location): 9  #> . (1 location): 10  #> .. (1 location): 11  tbl <- tibble::tibble(   x = x,   sh_x = sh_x,   as_num = as.numeric(sh_x),    as_char = as.character(sh_x),   tag = shrthnd_tags(sh_x),    as_shrthnd = as_shrthnd(sh_x),    as_shrthnd2 = as_shrthnd(sh_x, digits = 3) )  tbl #> # A tibble: 11 × 7 #>    x             sh_x as_num as_char tag   as_shrthnd as_shrthnd2 #>    <chr>     <sh_dbl>  <dbl> <chr>   <chr> <chr>      <chr>       #>  1 12           12.00   12   12      <NA>  12.00      12.000      #>  2 34.567       34.57   34.6 34.567  <NA>  34.57      34.567      #>  3 [c]            [c]   NA   <NA>    [c]   [c]        [c]         #>  4 NA              NA   NA   <NA>    <NA>  <NA>       <NA>        #>  5 56.78 [e] 56.78[e]   56.8 56.78   [e]   56.78[e]   56.780[e]   #>  6 78.9         78.90   78.9 78.9    <NA>  78.90      78.900      #>  7 90.123[e] 90.12[e]   90.1 90.123  [e]   90.12[e]   90.123[e]   #>  8 321.09*    321.09*  321.  321.09  *     321.09*    321.090*    #>  9 987.564 ‡  987.56‡  988.  987.564 ‡     987.56‡    987.564‡    #> 10 .                .   NA   <NA>    .     .          .           #> 11 ..              ..   NA   <NA>    ..    ..         ..  sh_tbl <- shrthnd_tbl(   tbl,   title = \"Example table\",   notes = c(\"Note 1\", \"Note 2\"),   source_note = \"Shrthnd documentation, 2023\" )  sh_tbl #> # Title:    Example table #> # A tibble: 11 × 7 #>    x             sh_x as_num as_char tag   as_shrthnd as_shrthnd2 #>    <chr>     <sh_dbl>  <dbl> <chr>   <chr> <chr>      <chr>       #>  1 12           12.00   12   12      <NA>  12.00      12.000      #>  2 34.567       34.57   34.6 34.567  <NA>  34.57      34.567      #>  3 [c]            [c]   NA   <NA>    [c]   [c]        [c]         #>  4 NA              NA   NA   <NA>    <NA>  <NA>       <NA>        #>  5 56.78 [e] 56.78[e]   56.8 56.78   [e]   56.78[e]   56.780[e]   #>  6 78.9         78.90   78.9 78.9    <NA>  78.90      78.900      #>  7 90.123[e] 90.12[e]   90.1 90.123  [e]   90.12[e]   90.123[e]   #>  8 321.09*    321.09*  321.  321.09  *     321.09*    321.090*    #>  9 987.564 ‡  987.56‡  988.  987.564 ‡     987.56‡    987.564‡    #> 10 .                .   NA   <NA>    .     .          .           #> 11 ..              ..   NA   <NA>    ..    ..         ..          #> # ☰ Source: Shrthnd documentation, 2023 #> # ☰ There are 2 notes, use `annotations(x)` to view  annotations(sh_tbl) #> ── Notes for `sh_tbl` ────────────────────────────────────────────────────────── #> Title: Example table #> Source: Shrthnd documentation, 2023 #> Notes: #> • Note 1 #> • Note 2"},{"path":"https://mattkerlogue.github.io/shrthnd/index.html","id":"logo","dir":"","previous_headings":"","what":"Logo","title":"Work with data that uses shorthand and symbols","text":"shrthnd package logo combination word “shorthand” written Pitman shorthand alongside asterisk. image drawn hand plot points adjusted plotting ggplot2. “shorthand” shape based representation Arthur Reynold’s Pitman’s English Shorthand Dictionary, retrieved Internet Archive 2023-05-11.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotation_to.html","id":null,"dir":"Reference","previous_headings":"","what":"Move notes to and from the title/source note of a tibble — note_to_title","title":"Move notes to and from the title/source note of a tibble — note_to_title","text":"shrthnd_tbl() three sets annotations, note_to_*() functions allow move general note either title source note tibble. *_to_notes()functions opposite (re)insert either title /source note back general notes.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotation_to.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Move notes to and from the title/source note of a tibble — note_to_title","text":"","code":"note_to_title(x, note, .overwrite = FALSE)  note_to_source_note(x, note, .overwrite = FALSE)  title_to_notes(x, .add_before = 0)  source_to_notes(x, .add_before = Inf)  title_source_to_notes(x, .add_before = 0)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotation_to.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Move notes to and from the title/source note of a tibble — note_to_title","text":"x shrthnd_tbl() object note number note move .overwrite Whether overwrite existing .add_before (re)insert note","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotation_to.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Move notes to and from the title/source note of a tibble — note_to_title","text":"shrthnd_tbl()","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotation_to.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Move notes to and from the title/source note of a tibble — note_to_title","text":"title_to_notes() title_source_to_notes() default (re)insert note start set notes, source_to_notes() default (re)insert note end set notes.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotation_to.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Move notes to and from the title/source note of a tibble — note_to_title","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) tbl <- tibble::tibble(x = x, sh_x = sh_x)  sh_tbl <- shrthnd_tbl(tbl) |>   set_notes(c(\"Note 1\", \"Note 2\", \"Note 3\")) |>   note_to_title(1) |>   note_to_source_note(2)  sh_tbl #> # Title:    Note 1 #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ Source: Note 3 #> # ☰ There is 1 note, use `annotations(x)` to view  shrthnd_notes(sh_tbl) #> [1] \"Note 2\"  sh_tbl <- sh_tbl |>   title_to_notes()  shrthnd_notes(sh_tbl) #> [1] \"Note 1\" \"Note 2\""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotations.html","id":null,"dir":"Reference","previous_headings":"","what":"Get and set annotations for a tibble — annotations","title":"Get and set annotations for a tibble — annotations","text":"shrthnd_tbl() three sets annotations can defined: title, source_note set general notes. family functions allows view modify notes.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get and set annotations for a tibble — annotations","text":"","code":"annotations(x)  shrthnd_title(x)  shrthnd_title(x) <- value  set_title(x, value, .overwrite = FALSE)  shrthnd_source_note(x)  shrthnd_source_note(x) <- value  set_source_note(x, value, .overwrite = FALSE)  shrthnd_notes(x)  shrthnd_notes(x) <- value  set_notes(x, value, .overwrite = FALSE)  add_notes(x, value, .add_before = Inf)  add_notes(x) <- value  set_tbl_antn(   x,   what = c(\"title\", \"source_note\", \"notes\"),   value,   .overwrite = FALSE,   .add = FALSE,   .add_before = Inf )"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get and set annotations for a tibble — annotations","text":"x shrthnd_tbl() object value value set .overwrite Whether existing value overwritten .add_before adding notes, add note (defaults end current set notes) note set, one title, source_note notes .add = \"notes\", whether append existing set notes","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get and set annotations for a tibble — annotations","text":"shrthnd_title(), shrthnd_source_note() shrthnd_notes() character vector note(s). setting functions returns invisibly either x attribute set NULL .","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get and set annotations for a tibble — annotations","text":"Use annotations() see annotations associated shrthnd_tbl() object. Use shrthnd_title(), shrthnd_source_note() shrthnd_notes() get relevant annotations(s) shrthnd_tbl() object. Passing value functions (e.g. shrthnd_title(x) <- \"title\") set value annotation, overwriting existing value(s). set_title(), set_source_note(), set_notes() also allow set value annotations. default permit overwriting existing values, setting .overwrite = TRUE permits . add_notes() allows append notes existing set general notes. set_tbl_antn() low level helper function powers assignment operations.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/annotations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get and set annotations for a tibble — annotations","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) tbl <- tibble::tibble(x = x, sh_x = sh_x)  sh_tbl <- shrthnd_tbl(tbl) |>   set_title(\"My Example Table\") |>   set_source_note(\"Shrthnd documentation (2023)\") |>   set_notes(c(\"Note 1\", \"Note 2\"))  sh_tbl #> # Title:    My Example Table #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ Source: Shrthnd documentation (2023) #> # ☰ There are 2 notes, use `annotations(x)` to view  annotations(sh_tbl) #> ── Notes for `sh_tbl` ────────────────────────────────────────────────────────── #> Title: My Example Table #> Source: Shrthnd documentation (2023) #> Notes: #> • Note 1 #> • Note 2  shrthnd_title(sh_tbl) #> [1] \"My Example Table\" shrthnd_source_note(sh_tbl) #> [1] \"Shrthnd documentation (2023)\" shrthnd_notes(sh_tbl) #> [1] \"Note 1\" \"Note 2\"  add_notes(sh_tbl) <- \"Note 3\" shrthnd_notes(sh_tbl) #> [1] \"Note 1\" \"Note 2\" \"Note 3\""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/as_shrthnd.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","title":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","text":"as_shrthnd() coerces shrthnd_num() vector back character vector re-inserting shorthand tags.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/as_shrthnd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","text":"","code":"as_shrthnd(x, digits = NULL, .pillar = FALSE, ...)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/as_shrthnd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","text":"x shrthnd_num() vector digits Number digits apply shrthnd_double vectors .pillar flag formatting within {pillar} package ... Arguments pass formatC()","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/as_shrthnd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","text":"character vector","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/as_shrthnd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","text":"calling .character() shrthnd_num() output expect calling traditional numeric vector, as_shrthnd() returns character vector combining numeric vector shorthand tags. digits = NULL shrthnd_double vectors printed number digits set digits attribute vector, setting digits as_shrthnd() override value.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/as_shrthnd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coerce a shrthnd_num to a character vector with shorthand — as_shrthnd","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\"), digits = 1) as_shrthnd(sh_x) #> [1] \"12.0\"    \"34.6\"    \"[c]\"     NA        \"56.8[e]\" \"78.9\"    \"90.1[e]\" as_shrthnd(sh_x, digits = 3) #> [1] \"12.000\"    \"34.567\"    \"[c]\"       NA          \"56.780[e]\" \"78.900\"    #> [7] \"90.123[e]\""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/find_annotations.html","id":null,"dir":"Reference","previous_headings":"","what":"Find annotations in a data frame — find_annotations","title":"Find annotations in a data frame — find_annotations","text":"find_annotations() takes data frame identifies possible annotations contained within returns named list. guess_annotations() low-level helper extracts annotations returns tibble cell values, row column positions.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/find_annotations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find annotations in a data frame — find_annotations","text":"","code":"find_annotations(   df,   type = c(\"sheet\", \"cells\"),   title_first = TRUE,   guess_source = TRUE,   .row_var = row,   .col_var = col,   .value_var = value )  guess_annotations(   df,   type = c(\"sheet\", \"cells\"),   .row_var = row,   .col_var = col,   .value_var = value )"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/find_annotations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find annotations in a data frame — find_annotations","text":"df data frame object type Whether data frame \"sheet\" format \"cells\" format title_first Whether first annotation treated table title guess_source Whether guess source note annoations .row_var using type = \"cells\" name variable row positions .col_var using type = \"cells\" name variable column positions .value_var using type = \"cells\" name variable row positions","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/find_annotations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Find annotations in a data frame — find_annotations","text":"Data frames declared type, must either \"sheet\" format (default) \"cells\" format. \"sheet\" format standard two-dimensional data frame format, read base::read.csv() readxl::read_excel(). \"cells\" format data frames row represents cell spreadsheet contains variable cell's value, separate variables providing row column variable. default find_annotations() try help parse annotations found guess_annotations(). title_first = TRUE, first annotation found data frame assumed provide title label table contained data frame. guess_source = TRUE, annotations searched one starting either \"Source:\", \"Data source:\" \"Source data:\". using type = \"cells\" variables identifying row, column cell values specified .row_var, .col_var .value_var respectively.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/find_annotations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find annotations in a data frame — find_annotations","text":"","code":"example_df <- tibble::tibble(   col1 = c(     \"Table 1\", \"An example sheet\", \"species\", \"Adelie\", \"Gentoo\", \"Chinstrap\",     \"This table is based on data in the palmerpenguins R package\",     \"Source: {palmerpenguins} R package\"   ),   col2 = c(NA_character_, NA_character_, \"bill_length_mm\", \"38.791\",            \"47.505\", \"48.834\", NA_character_, NA_character_),   col3 = c(NA_character_, NA_character_, \"bill_depth_mm\", \"18.346\",            \"14.982\", \"18.421\", NA_character_, NA_character_) )  example_df #> # A tibble: 8 × 3 #>   col1                                                        col2         col3  #>   <chr>                                                       <chr>        <chr> #> 1 Table 1                                                     NA           NA    #> 2 An example sheet                                            NA           NA    #> 3 species                                                     bill_length… bill… #> 4 Adelie                                                      38.791       18.3… #> 5 Gentoo                                                      47.505       14.9… #> 6 Chinstrap                                                   48.834       18.4… #> 7 This table is based on data in the palmerpenguins R package NA           NA    #> 8 Source: {palmerpenguins} R package                          NA           NA     find_annotations(example_df) #> ── Notes found in `example_df` ───────────────────────────────────────────────── #> Title: Table 1 #> Source: Source: {palmerpenguins} R package #> Notes: #> • An example sheet #> • This table is based on data in the palmerpenguins R package  guess_annotations(example_df) #> # A tibble: 4 × 3 #>     row   col annotation                                                  #>   <int> <int> <chr>                                                       #> 1     1     1 Table 1                                                     #> 2     2     1 An example sheet                                            #> 3     7     1 This table is based on data in the palmerpenguins R package #> 4     8     1 Source: {palmerpenguins} R package"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/is_shrthnd.html","id":null,"dir":"Reference","previous_headings":"","what":"Test if an object is using shrthnd — is_shrthnd_num","title":"Test if an object is using shrthnd — is_shrthnd_num","text":"is_shrthnd_* family functions test whether vector either shrthnd_num(), shrthnd_list(). is_shrthnd_integer() is_shrthnd_double() test whether object shrthnd_num() vector whether underlying data type integer() double(). is_shrthnd_tbl() test whether object shrthnd_tbl() tibble.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/is_shrthnd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test if an object is using shrthnd — is_shrthnd_num","text":"","code":"is_shrthnd_num(x)  is_shrthnd_integer(x)  is_shrthnd_double(x)  is_shrthnd_list(x)  is_shrthnd_tbl(x)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/is_shrthnd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test if an object is using shrthnd — is_shrthnd_num","text":"x object tested","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/is_shrthnd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test if an object is using shrthnd — is_shrthnd_num","text":"logical vector","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/is_shrthnd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test if an object is using shrthnd — is_shrthnd_num","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) is_shrthnd_num(sh_x) #> [1] TRUE is_shrthnd_double(sh_x) #> [1] TRUE  y <- c(\"12\", \"34\", \"[c]\", \"NA\", \"56[e]\", \"78\", \"90[e]\") sh_y <- shrthnd_num(y, c(\"[c]\", \"[e]\")) is_shrthnd_num(sh_y) #> [1] TRUE is_shrthnd_integer(sh_y) #> [1] TRUE  sh_l <- shrthnd_list(sh_x) is_shrthnd_list(sh_l) #> [1] TRUE  tbl <- tibble::tibble(x = x, sh_x = sh_x) sh_tbl <- shrthnd_tbl(tbl, title = \"Example table\") is_shrthnd_tbl(sh_tbl) #> [1] TRUE"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/make_shrthnd_num.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a shrthnd_num vector from numeric and character components — make_shrthnd_num","title":"Make a shrthnd_num vector from numeric and character components — make_shrthnd_num","text":"make_shrthnd_num() allows construct shrthnd_num vector numeric vector data values character vector shorthand markers.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/make_shrthnd_num.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a shrthnd_num vector from numeric and character components — make_shrthnd_num","text":"","code":"make_shrthnd_num(x = numeric(), tags = character(), digits = 2L)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/make_shrthnd_num.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a shrthnd_num vector from numeric and character components — make_shrthnd_num","text":"x numeric vector tags character vector digits number digits format numeric vector ","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/make_shrthnd_num.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a shrthnd_num vector from numeric and character components — make_shrthnd_num","text":"shrthnd_num vector","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/make_shrthnd_num.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a shrthnd_num vector from numeric and character components — make_shrthnd_num","text":"","code":"make_shrthnd_num(c(1:3, NA, 4:5, NA), c(\"\", \"\", \"\", \"[c]\", \"\", \"[e]\", NA)) #> <shrthnd_num[7]> #> [1] 1    2    3    [c]  4    5[e] <NA>"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_coercion.html","id":null,"dir":"Reference","previous_headings":"","what":"Coercion of shrthnd_num vectors — shrthnd_coercion","title":"Coercion of shrthnd_num vectors — shrthnd_coercion","text":"extension {vectrs} package, shrthnd_num() generally coerced behave regular numeric() vector. {vectrs} automatically support coercion custom methods provided enable shrthnd_num() considered numeric vector.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_coercion.html","id":"general-principles","dir":"Reference","previous_headings":"","what":"General principles","title":"Coercion of shrthnd_num vectors — shrthnd_coercion","text":"principles underpinning coercion shrthnd_num() vector maximise compatability base R packages, vector generally behave numeric vector. means .numeric() produce bare numeric vector containing just numeric component shrthnd_num(). Similarly .character() produce character vector numeric component shrthnd_num(). work tags use shrthnd_tags() related tag location functions. produce traditional character vector combining numeric component tag component use as_shrthnd() shrthnd_num() vector. keeping base R practice around complex numeric objects Date(), difftime() POSIXct(), using .numeric() shrthnd_num() vector return FALSE. Use is_shrthnd_num() test vector shrthnd_num() vector. See shrthnd_maths details shrthnd_num() works arithmetic, mathematical () statistical operations.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_coercion.html","id":"missing-values","dir":"Reference","previous_headings":"","what":"Missing values","title":"Coercion of shrthnd_num vectors — shrthnd_coercion","text":"particular note using .na() shrthnd_num() vector designed work numeric component, .e. numeric component missing tag marker present .na() return TRUE. Use is_na_tag() identify tag marker, is_na_both() identify numeric tag components missing.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_coercion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coercion of shrthnd_num vectors — shrthnd_coercion","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\"))  as.numeric(sh_x) #> [1] 12.000 34.567     NA     NA 56.780 78.900 90.123  as.character(sh_x) #> [1] \"12\"     \"34.567\" NA       NA       \"56.78\"  \"78.9\"   \"90.123\"  is.na(sh_x) #> [1] FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List the shorthand in a vector — shrthnd_list","title":"List the shorthand in a vector — shrthnd_list","text":"shrthnd_list() generates lookup table shorthand markers vector, either character vector containing shorthand shrthnd_num() vector.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List the shorthand in a vector — shrthnd_list","text":"","code":"shrthnd_list(   x,   shorthand = NULL,   na_values = c(\"\", \"NA\"),   dec = \".\",   bigmark = \",\" )"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List the shorthand in a vector — shrthnd_list","text":"x character vector containing shorthand, shrthnd_num() vector shorthand character vector shorthand values validate tags na_values character value NA values ignore dec decimal separator numbers bigmark separator left decimal separator","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List the shorthand in a vector — shrthnd_list","text":"list shorthand positions vector","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List the shorthand in a vector — shrthnd_list","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") shrthnd_list(x) #> <shrthnd_list[2]> #> [c] (1 location): 3  #> [e] (2 locations): 5, 7   sh_x <- shrthnd_num(x) sh_x #> <shrthnd_num[7]> #> [1] 12.00    34.57    [c]      <NA>     56.78[e] 78.90    90.12[e] shrthnd_list(sh_x) #> <shrthnd_list[2]> #> [c] (1 location): 3  #> [e] (2 locations): 5, 7"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_maths.html","id":null,"dir":"Reference","previous_headings":"","what":"Arithmetic and mathematical operations — shrthnd_maths","title":"Arithmetic and mathematical operations — shrthnd_maths","text":"Arithmetic mathematical operations supported numeric component shrthnd_num() vectors via {vctrs} package without wrap vector .numeric().","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_maths.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Arithmetic and mathematical operations — shrthnd_maths","text":"can use standard arithmetic infix operators (+, -, /, *, ^, %%, %/%, !). See vctrs::vec_arith() details. vctrs::vec_math() following generic mathematical operations supported: Summary group generic: prod(), sum(), (), (). Math group generic: abs(), sign(), sqrt(), ceiling(), floor(), trunc(), cummax(), cummin(), cumprod(), cumsum(), log(), log10(), log2(), log1p(), acos(), acosh(), asin(), asinh(), atan(), atanh(), exp(), expm1(), cos(), cosh(), cospi(), sin(), sinh(), sinpi(), tan(), tanh(), tanpi(), gamma(), lgamma(), digamma(), trigamma(). vctrs::vec_math() also enables support mean(), .nan(), .finite() .infinite(). addition , {shrthnd} package also provides methods range(), min(), max(), median() quantile(). shrthnd_num() work sd() due ability shrthnd_num() easily coerced numeric vector. operations need wrap shrthnd_num vector .numeric(). operations remember likely need set na.rm = TRUE whatever method function ignoring missing values.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_maths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Arithmetic and mathematical operations — shrthnd_maths","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\"))  sh_x * 2 #> [1]  24.000  69.134      NA      NA 113.560 157.800 180.246  2 + sh_x #> [1] 14.000 36.567     NA     NA 58.780 80.900 92.123  mean(sh_x, na.rm = TRUE) #> [1] 54.474"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_num.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a character vector containing shorthand — shrthnd_num","title":"Convert a character vector containing shorthand — shrthnd_num","text":"shrthnd_num() coerces character vector containing numeric data values non-numeric tags numeric-like vector also retaining tags.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_num.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a character vector containing shorthand — shrthnd_num","text":"","code":"shrthnd_num(   x,   shorthand = NULL,   na_values = \"NA\",   digits = 2L,   paren_nums = c(\"negative\", \"strip\"),   dec = \".\",   bigmark = \",\" )"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_num.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a character vector containing shorthand — shrthnd_num","text":"x character vector numeric values shorthand shorthand character vector shorthand values na_values character vector NA values digits number digits formatting numbers paren_nums handle numbers parenthesis (e.g. (12,435.43)), defaults negative commonly used accounting denote negative values instead minus symbol preceding value dec decimal separator numbers bigmark separator left decimal separator","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_num.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a character vector containing shorthand — shrthnd_num","text":"shrthnd_num vector","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_num.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a character vector containing shorthand — shrthnd_num","text":"Data stored documents publications regularly annotated shorthand symbols. Often tags found container (e.g. table spreadsheet cell) value associated , requires cleaning vector extract numeric values. simple approach discard non-numeric components, however tags can convey information may wish retain. shrthnd_num() provides data type can store numeric data marker. default shrthnd_num() extract non-numeric values following numeric ones process shorthand tag. However, can optionally supply vector tags, using shorthand argument, wish validate extracted tags accept vectors specific shorthand values. underlying numeric values real numbers (.e. double() vector) digits argument used format display shrthnd_dbl vector (defaults 2 decimal places).","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_num.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a character vector containing shorthand — shrthnd_num","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") shrthnd_num(x, c(\"[c]\", \"[e]\")) #> <shrthnd_num[7]> #> [1] 12.00    34.57    [c]      <NA>     56.78[e] 78.90    90.12[e]"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tags.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the tags attached to a shrthnd vector — shrthnd_tags","title":"Get the tags attached to a shrthnd vector — shrthnd_tags","text":"shrthnd_tags() provides character vector length x shorthand tags, NA value tag. shrthnd_unique_tags() convenience wrapper unique(shrthnd_tags(x)), can also called shrthnd_list() object.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tags.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the tags attached to a shrthnd vector — shrthnd_tags","text":"","code":"shrthnd_tags(x)  shrthnd_unique_tags(x)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tags.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the tags attached to a shrthnd vector — shrthnd_tags","text":"x shrthnd_num() vector","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tags.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the tags attached to a shrthnd vector — shrthnd_tags","text":"character vector","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tags.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the tags attached to a shrthnd vector — shrthnd_tags","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) shrthnd_tags(sh_x) #> [1] NA    NA    \"[c]\" NA    \"[e]\" NA    \"[e]\" shrthnd_unique_tags(sh_x) #> [1] \"[c]\" \"[e]\""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Add annotations to tibbles — shrthnd_tbl","title":"Add annotations to tibbles — shrthnd_tbl","text":"shrthnd_tbl() provides way attach annotations table. Specifically, supports three types annotation: title, source note general notes. title source_note character vectors length 1, notes can character vector length.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add annotations to tibbles — shrthnd_tbl","text":"","code":"shrthnd_tbl(tbl, title = NULL, notes = NULL, source_note = NULL)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add annotations to tibbles — shrthnd_tbl","text":"tbl tibble::tibble() object can coerced tibble. title character vector title tbl notes character vector general notes relating tbl source_note character vector source note relating tbl","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add annotations to tibbles — shrthnd_tbl","text":"tibble shrthnd annotations","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/shrthnd_tbl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add annotations to tibbles — shrthnd_tbl","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) tbl <- tibble::tibble(x = x, sh_x = sh_x) shrthnd_tbl(   tbl,   title = \"Example table\",   notes = c(\"Note 1\", \"Note 2\"),   source_note = \"Shrthnd documentation, 2023\" ) #> # Title:    Example table #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ Source: Shrthnd documentation, 2023 #> # ☰ There are 2 notes, use `annotations(x)` to view"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/tag_locations.html","id":null,"dir":"Reference","previous_headings":"","what":"Get tag locations — tag_match","title":"Get tag locations — tag_match","text":"Base R's matching location functions work directly numeric component shrthnd_num() vector, functions provide functionality applied tag component.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/tag_locations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get tag locations — tag_match","text":"","code":"tag_match(x, tag)  tag_in(x, tag)  where_tag(x, tag)  any_tag(x)  is_na_tag(x)  is_na_both(x)  locate_tag(x, tag)  locate_any_tag(x)  locate_no_tag(x)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/tag_locations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get tag locations — tag_match","text":"x shrthnd_num() vector tag single tag locate","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/tag_locations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get tag locations — tag_match","text":"tag_match(), locate_tag(), locate_any_tag() locate_no_tag() integer vector. tag_in(), where_tag(), any_tag(), is_na_tag() is_na_both() logical vector.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/tag_locations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get tag locations — tag_match","text":"tag_match() tag_in() wrappers around vctrs::vec_match() vctrs::vec_in() thus equivalent match() %% applied tag components shrthnd_num(). tag_match() return integer vector showing first location tag provided, tag_in() return TRUE FALSE depending whether tag vector's shorthand. where_tag() equivalent computing tags == tag, any_tag() equivalent !.na(tags). Using .na() shrthnd_num() assess numeric component missing, is_na_tag() equivalent .na(tags), is_na_both() tests numeric tag components shrthnd_num() missing. return logical vector length x. locate_tag(), locate_any_tag(), located_no_tag() equivalent passing return values where_tag(), any_tag() is_na_tag() (). return integer vector length x.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/tag_locations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get tag locations — tag_match","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) shrthnd_tags(sh_x) #> [1] NA    NA    \"[c]\" NA    \"[e]\" NA    \"[e]\"  tag_match(sh_x, \"[e]\") #> [1] 5  tag_in(sh_x, \"[e]\") #> [1] TRUE  where_tag(sh_x, \"[e]\") #> [1]    NA    NA FALSE    NA  TRUE    NA  TRUE  any_tag(sh_x) #> [1] FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE  is_na_tag(sh_x) #> [1]  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE  is_na_both(sh_x) #> [1] FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  locate_tag(sh_x, \"[e]\") #> [1] 5 7  locate_any_tag(sh_x) #> [1] 3 5 7  locate_no_tag(sh_x) #> [1] 1 2 4 6"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/where_shrthnd_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify which columns use shrthnd — where_shrthnd_cols","title":"Identify which columns use shrthnd — where_shrthnd_cols","text":"where_shrthnd_cols() applies is_shrthnd_num() across columns data.frame (elements list). which_shrthnd_cols() identifies columns data.frame (elements list) name index position. any_shrthnd_cols() tests whether data.frame (list) columns shrthnd_num() vectors.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/where_shrthnd_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify which columns use shrthnd — where_shrthnd_cols","text":"","code":"where_shrthnd_cols(x)  which_shrthnd_cols(x, .names = FALSE)  any_shrthnd_cols(x)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/where_shrthnd_cols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify which columns use shrthnd — where_shrthnd_cols","text":"x data.frame (list) .names logical vector indicating whether return column names integer vector column positions (default)","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/where_shrthnd_cols.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify which columns use shrthnd — where_shrthnd_cols","text":"where_shrthnd_cols() logical vector length number columns x. which_shrthnd_cols() character vector names integer vector index positions (default). any_shrthnd_cols() either TRUE shrthnd_num() vectors object FALSE .","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/where_shrthnd_cols.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify which columns use shrthnd — where_shrthnd_cols","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) tbl <- tibble::tibble(x = x, sh_x = sh_x)  where_shrthnd_cols(tbl) #> [1] FALSE  TRUE  which_shrthnd_cols(tbl) #> [1] 2  which_shrthnd_cols(tbl, .names = TRUE) #> [1] \"sh_x\"  any_shrthnd_cols(tbl) #> [1] TRUE"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/zap_shrthnd.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove annotations from tibbles — zap_shrthnd","title":"Remove annotations from tibbles — zap_shrthnd","text":"zap_*() functions remove annotations shrthnd_tbl() object. zap_title(), zap_source_note() zap_notes() remove title, source note general notes respectively. zap_tbl() removes three types annotations also strips shrthnd_tbl class object. zap_shrthnd() low-level helper function power attribute removal.","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/zap_shrthnd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove annotations from tibbles — zap_shrthnd","text":"","code":"zap_title(x)  zap_source_note(x)  zap_notes(x)  zap_tbl(x)  zap_shrthnd(x, what = c(\"title\", \"source_note\", \"notes\"), zap_class = FALSE)"},{"path":"https://mattkerlogue.github.io/shrthnd/reference/zap_shrthnd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove annotations from tibbles — zap_shrthnd","text":"x shrthnd_tbl() One title, source_note notes indicating set notes remove zap_class Whether remove \"shrthnd_tbl\" class","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/zap_shrthnd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove annotations from tibbles — zap_shrthnd","text":"Returns x relevant attributes removed","code":""},{"path":"https://mattkerlogue.github.io/shrthnd/reference/zap_shrthnd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove annotations from tibbles — zap_shrthnd","text":"remove shrthnd shrthnd_num() vector use .numeric(), .character() as_shrthnd() coerce vector another type.","code":""},{"path":[]},{"path":"https://mattkerlogue.github.io/shrthnd/reference/zap_shrthnd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove annotations from tibbles — zap_shrthnd","text":"","code":"x <- c(\"12\", \"34.567\", \"[c]\", \"NA\", \"56.78[e]\", \"78.9\", \"90.123[e]\") sh_x <- shrthnd_num(x, c(\"[c]\", \"[e]\")) tbl <- tibble::tibble(x = x, sh_x = sh_x) sh_tbl <- shrthnd_tbl(   tbl,   title = \"Example table\",   notes = c(\"Note 1\", \"Note 2\"),   source_note = \"Shrthnd documentation, 2023\" )  sh_tbl #> # Title:    Example table #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ Source: Shrthnd documentation, 2023 #> # ☰ There are 2 notes, use `annotations(x)` to view  zap_title(sh_tbl) #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ Source: Shrthnd documentation, 2023 #> # ☰ There are 2 notes, use `annotations(x)` to view  zap_source_note(sh_tbl) #> # Title:    Example table #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ There are 2 notes, use `annotations(x)` to view  zap_notes(sh_tbl) #> # Title:    Example table #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e] #> # ☰ Source: Shrthnd documentation, 2023  zap_tbl(sh_tbl) #> # A tibble: 7 × 2 #>   x             sh_x #>   <chr>     <sh_dbl> #> 1 12           12.00 #> 2 34.567       34.57 #> 3 [c]            [c] #> 4 NA              NA #> 5 56.78[e]  56.78[e] #> 6 78.9         78.90 #> 7 90.123[e] 90.12[e]"},{"path":"https://mattkerlogue.github.io/shrthnd/news/index.html","id":"shrthnd-010","dir":"Changelog","previous_headings":"","what":"shrthnd 0.1.0","title":"shrthnd 0.1.0","text":"shrthnd package exists Added NEWS.md file track changes package.","code":""}]
